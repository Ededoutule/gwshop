(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e9596264"],{"14c3":function(t,e,n){var a=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==a(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"22cf":function(t,e,n){},3365:function(t,e,n){"use strict";var a=n("22cf"),r=n.n(a);r.a},"400b":function(t,e,n){"use strict";var a=n("c5aa"),r=n.n(a);r.a},5319:function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),i=n("7b0b"),c=n("50c4"),s=n("a691"),o=n("1d80"),l=n("8aa5"),u=n("14c3"),p=Math.max,h=Math.min,d=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,f=/\$([$&'`]|\d\d?)/g,g=function(t){return void 0===t?t:String(t)};a("replace",2,(function(t,e,n,a){var m=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,x=a.REPLACE_KEEPS_$0,w=m?"$":"$0";return[function(n,a){var r=o(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r,a):e.call(String(r),n,a)},function(t,a){if(!m&&x||"string"===typeof a&&-1===a.indexOf(w)){var i=n(e,t,this,a);if(i.done)return i.value}var o=r(t),d=String(this),v="function"===typeof a;v||(a=String(a));var f=o.global;if(f){var b=o.unicode;o.lastIndex=0}var E=[];while(1){var C=u(o,d);if(null===C)break;if(E.push(C),!f)break;var T=String(C[0]);""===T&&(o.lastIndex=l(d,c(o.lastIndex),b))}for(var S="",y=0,I=0;I<E.length;I++){C=E[I];for(var R=String(C[0]),k=p(h(s(C.index),d.length),0),$=[],P=1;P<C.length;P++)$.push(g(C[P]));var A=C.groups;if(v){var j=[R].concat($,k,d);void 0!==A&&j.push(A);var N=String(a.apply(void 0,j))}else N=_(R,d,k,$,A,a);k>=y&&(S+=d.slice(y,k)+N,y=k+R.length)}return S+d.slice(y)}];function _(t,n,a,r,c,s){var o=a+t.length,l=r.length,u=f;return void 0!==c&&(c=i(c),u=v),e.call(s,u,(function(e,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,a);case"'":return n.slice(o);case"<":s=c[i.slice(1,-1)];break;default:var u=+i;if(0===u)return e;if(u>l){var p=d(u/10);return 0===p?e:p<=l?void 0===r[p-1]?i.charAt(1):r[p-1]+i.charAt(1):e}s=r[u-1]}return void 0===s?"":s}))}}))},7101:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"loginContainer"},[n("div",{staticClass:"loginInner"},[n("div",{staticClass:"login_header"},[n("h2",{staticClass:"login_logo"},[t._v("硅谷外卖")]),n("div",{staticClass:"login_header_title"},[n("a",{class:{on:t.isShow},attrs:{href:"javascript:;"},on:{click:function(e){t.isShow=!t.isShow}}},[t._v("短信登录")]),n("a",{class:{on:!t.isShow},attrs:{href:"javascript:;"},on:{click:function(e){t.isShow=!t.isShow}}},[t._v("密码登录")])])]),n("div",{staticClass:"login_content"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[n("div",{class:{on:t.isShow}},[n("section",{staticClass:"login_message"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"tel",maxlength:"11",placeholder:"手机号"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),n("button",{staticClass:"get_verification",class:{right_phone:t.rightPhone},attrs:{disabled:!t.rightPhone},on:{click:function(e){return e.preventDefault(),t.getCode(e)}}},[t._v(t._s(t.computeTime>0?"已发送("+t.computeTime+")s":"获取验证码"))])]),n("section",{staticClass:"login_verification"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"tel",maxlength:"8",placeholder:"验证码"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),t._m(0)]),n("div",{class:{on:!t.isShow}},[n("section",[n("section",{staticClass:"login_message"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"tel",maxlength:"11",placeholder:"手机/邮箱/用户名"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),n("section",{staticClass:"login_verification"},[t.isKey?n("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"tel",maxlength:"8",placeholder:"密码"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd,expression:"pwd"}],attrs:{type:"password",maxlength:"8",placeholder:"密码"},domProps:{value:t.pwd},on:{input:function(e){e.target.composing||(t.pwd=e.target.value)}}}),n("div",{staticClass:"switch_button",class:t.isKey?"on":"off",on:{click:function(e){t.isKey=!t.isKey}}},[n("div",{staticClass:"switch_circle",class:{right:t.isKey}}),n("span",{staticClass:"switch_text"},[t._v(t._s(t.isKey?"abc":"..."))])])]),n("section",{staticClass:"login_message"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.captcha,expression:"captcha"}],attrs:{type:"text",maxlength:"11",placeholder:"验证码"},domProps:{value:t.captcha},on:{input:function(e){e.target.composing||(t.captcha=e.target.value)}}}),n("img",{ref:"get_verificatio",staticClass:"get_verification",attrs:{src:"http://localhost:4000/captcha",alt:"captcha"},on:{click:t.getCaptcha}})])])]),n("button",{staticClass:"login_submit"},[t._v("登录")])]),n("a",{staticClass:"about_us",attrs:{href:"javascript:;"}},[t._v("关于我们")])]),n("a",{staticClass:"go_back",attrs:{href:"javascript:"},on:{click:t.goBack}},[n("i",{staticClass:"iconfont icon-jiantou2"})])]),n("AlertTip",{directives:[{name:"show",rawName:"v-show",value:t.showAlert,expression:"showAlert"}],attrs:{alertText:t.alertText},on:{closeTip:t.closeTip}})],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"login_hint"},[t._v(" 温馨提示：未注册硅谷外卖帐号的手机号，登录时将自动注册，且代表已同意 "),n("a",{attrs:{href:"javascript:;"}},[t._v("《用户服务协议》")])])}],i=(n("b0c0"),n("ac1f"),n("5319"),n("96cf"),n("1da1")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"alert_container"},[n("section",{staticClass:"tip_text_container"},[t._m(0),n("p",{staticClass:"tip_text"},[t._v(t._s(t.alertText))]),n("div",{staticClass:"confrim",on:{click:t.closeTip}},[t._v("确认")])])])},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tip_icon"},[n("span"),n("span")])}],o={props:{alertText:String},methods:{closeTip:function(){this.$emit("closeTip")}}},l=o,u=(n("400b"),n("2877")),p=Object(u["a"])(l,c,s,!1,null,"c57193d6",null),h=p.exports,d=n("365c"),v={name:"Login",data:function(){return{isShow:!0,phone:"",captcha:"",computeTime:0,isKey:!1,name:"",pwd:"",code:"",alertText:"",showAlert:!1}},components:{AlertTip:h},computed:{rightPhone:function(){return/^1\d{10}$/.test(this.phone)}},methods:{goBack:function(){this.$router.back()},getCode:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.computeTime||(t.computeTime=30,t.interId=setInterval((function(){t.computeTime<=0&&clearInterval(t.interId),t.computeTime--}),1e3)),e.next=3,Object(d["e"])(t.phone);case 3:n=e.sent,1===n.code&&(t.showalert(n.msg),t.components&&(t.components=0,clearInterval(t.interId),t.interId=null));case 5:case"end":return e.stop()}}),e)})))()},showalert:function(t){this.showAlert=!0,this.alertText=t},login:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,r,i,c,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isShow){e.next=15;break}if(a=t.code,t.rightPhone){e.next=7;break}return t.showalert("手机号不真"),e.abrupt("return");case 7:if(!/^d{6}$/.test(a)){e.next=10;break}return t.showalert("验证码必需时6位数字"),e.abrupt("return");case 10:return e.next=12,Object(d["j"])(t.phone,t.code);case 12:n=e.sent,e.next=35;break;case 15:if(r=t.name,i=t.pwd,c=t.captcha,t.name){e.next=22;break}return t.showalert("用户名必须指定"),t.getCaptcha(),e.abrupt("return");case 22:if(t.pwd){e.next=28;break}return t.showalert("密码必须指定"),t.getCaptcha(),e.abrupt("return");case 28:if(t.captcha){e.next=32;break}return t.showalert("验证码必须指定"),t.getCaptcha(),e.abrupt("return");case 32:return e.next=34,Object(d["d"])({name:r,pwd:i,captcha:c});case 34:n=e.sent;case 35:t.components&&(t.components=0,clearInterval(t.interId),t.interId=null),0===n.code?(s=n.data,t.$store.dispatch("recordUser",s),t.$router.replace("/profile")):(o=n.msg,t.getCaptcha(),t.showalert(o));case 37:case"end":return e.stop()}}),e)})))()},closeTip:function(){this.showAlert=!1,this.alertText=""},getCaptcha:function(){this.$refs.get_verificatio.src="http://localhost:4000/captcha?tiem="+Date.now()}}},f=v,g=(n("3365"),Object(u["a"])(f,a,r,!1,null,null,null));e["default"]=g.exports},"8aa5":function(t,e,n){"use strict";var a=n("6547").charAt;t.exports=function(t,e,n){return e+(n?a(t,e).length:1)}},9263:function(t,e,n){"use strict";var a=n("ad6d"),r=n("9f7f"),i=RegExp.prototype.exec,c=String.prototype.replace,s=i,o=function(){var t=/a/,e=/b*/g;return i.call(t,"a"),i.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),l=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],p=o||u||l;p&&(s=function(t){var e,n,r,s,p=this,h=l&&p.sticky,d=a.call(p),v=p.source,f=0,g=t;return h&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),g=String(t).slice(p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==t[p.lastIndex-1])&&(v="(?: "+v+")",g=" "+g,f++),n=new RegExp("^(?:"+v+")",d)),u&&(n=new RegExp("^"+v+"$(?!\\s)",d)),o&&(e=p.lastIndex),r=i.call(h?n:p,g),h?r?(r.input=r.input.slice(f),r[0]=r[0].slice(f),r.index=p.lastIndex,p.lastIndex+=r[0].length):p.lastIndex=0:o&&r&&(p.lastIndex=p.global?r.index+r[0].length:e),u&&r&&r.length>1&&c.call(r[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r}),t.exports=s},"9f7f":function(t,e,n){"use strict";var a=n("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=a((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=a((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,n){"use strict";var a=n("23e7"),r=n("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},c5aa:function(t,e,n){},d784:function(t,e,n){"use strict";n("ac1f");var a=n("6eeb"),r=n("d039"),i=n("b622"),c=n("9263"),s=n("9112"),o=i("species"),l=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),p=i("replace"),h=function(){return!!/./[p]&&""===/./[p]("a","$0")}(),d=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,p){var v=i(t),f=!r((function(){var e={};return e[v]=function(){return 7},7!=""[t](e)})),g=f&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[o]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return e=!0,null},n[v](""),!e}));if(!f||!g||"replace"===t&&(!l||!u||h)||"split"===t&&!d){var m=/./[v],x=n(v,""[t],(function(t,e,n,a,r){return e.exec===c?f&&!r?{done:!0,value:m.call(e,n,a)}:{done:!0,value:t.call(n,e,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),w=x[0],_=x[1];a(String.prototype,t,w),a(RegExp.prototype,v,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}p&&s(RegExp.prototype[v],"sham",!0)}}}]);
//# sourceMappingURL=chunk-e9596264.1c1535ae.js.map