(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3312f9e2"],{"4ce3":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{ref:"ratings",staticClass:"ratings"},[e("div",{staticClass:"ratings-content"},[e("div",{staticClass:"overview"},[e("div",{staticClass:"overview-left"},[e("h1",{staticClass:"score"},[t._v(t._s(t.info.score))]),e("div",{staticClass:"title"},[t._v("综合评分")]),e("div",{staticClass:"rank"},[t._v("高于周边商家99%")])]),e("div",{staticClass:"overview-right"},[e("div",{staticClass:"score-wrapper"},[e("span",{staticClass:"title"},[t._v("服务态度")]),e("Star",{attrs:{score:t.info.serviceScore,size:36}}),e("span",{staticClass:"score"},[t._v(t._s(t.info.serviceScore))])],1),e("div",{staticClass:"score-wrapper"},[e("span",{staticClass:"title"},[t._v("商品评分")]),e("Star",{attrs:{score:t.info.foodScore,size:36}}),e("span",{staticClass:"score"},[t._v(t._s(t.info.foodScore))])],1),e("div",{staticClass:"delivery-wrapper"},[e("span",{staticClass:"title"},[t._v("送达时间")]),e("span",{staticClass:"delivery"},[t._v(t._s(t.info.deliveryTime)+"分钟")])])])]),e("div",{staticClass:"split"}),e("div",{staticClass:"ratingselect"},[e("div",{staticClass:"rating-type border-1px"},[e("span",{staticClass:"block positive",class:{active:2===t.selectType},on:{click:function(s){return t.setSelectType(2)}}},[t._v(" 全部 "),e("span",{staticClass:"count"},[t._v(t._s(t.ratings.length))])]),e("span",{staticClass:"block positive",class:{active:0===t.selectType},on:{click:function(s){return t.setSelectType(0)}}},[t._v(" 满意 "),e("span",{staticClass:"count"},[t._v(t._s(t.positiveSize))])]),e("span",{staticClass:"block negative",class:{active:1===t.selectType},on:{click:function(s){return t.setSelectType(1)}}},[t._v(" 不满意 "),e("span",{staticClass:"count"},[t._v(t._s(t.ratings.length-t.positiveSize))])])]),e("div",{staticClass:"switch",class:{on:t.onlyShowText},on:{click:t.toggleOnlyShowText}},[e("span",{staticClass:"iconfont icon-check_circle"}),e("span",{staticClass:"text"},[t._v("只看有内容的评价")])])]),e("div",{staticClass:"rating-wrapper"},[e("ul",t._l(t.filterRatings,(function(s,i){return e("li",{key:i,staticClass:"rating-item"},[e("div",{staticClass:"avatar"},[e("img",{attrs:{width:"28",height:"28",src:s.avatar}})]),e("div",{staticClass:"content"},[e("h1",{staticClass:"name"},[t._v(t._s(s.username))]),e("div",{staticClass:"star-wrapper"},[e("Star",{attrs:{score:s.score,size:24}}),e("span",{staticClass:"delivery"},[t._v(t._s(s.deliveryTime))])],1),e("p",{staticClass:"text"},[t._v(t._s(s.text))]),e("div",{staticClass:"recommend"},[e("span",{staticClass:"iconfont",class:0===s.rateType?"icon-thumb_up":"icon-thumb_down"}),t._l(s.recommend,(function(s,i){return e("span",{key:i,staticClass:"item"},[t._v(t._s(s))])}))],2),e("div",{staticClass:"time"},[t._v(t._s(t._f("data-formt")(s.rateTime)))])])])})),0)])])])},a=[],c=(e("4de4"),e("5530")),n=e("ced7"),l=e("2f62"),r=e("1fba"),o={name:"ShopRatings",data:function(){return{onlyShowText:!0,selectType:2}},mounted:function(){var t=this;this.$store.dispatch("getShopRatings",(function(){t.$nextTick((function(){new r["a"](t.$refs.ratings,{click:!0})}))}))},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(l["d"])(["info","ratings"])),Object(l["c"])(["positiveSize"])),{},{filterRatings:function(){var t=this.ratings,s=this.onlyShowText,e=this.selectType;return t.filter((function(t){var i=t.rateType,a=t.text;return(2===e||e===i)&&(!s||a.length>0)}))}}),methods:{setSelectType:function(t){this.selectType=t},toggleOnlyShowText:function(){this.onlyShowText=!this.onlyShowText}},components:{Star:n["a"]}},v=o,p=(e("9d68"),e("2877")),d=Object(p["a"])(v,i,a,!1,null,null,null);s["default"]=d.exports},"9d68":function(t,s,e){"use strict";var i=e("a7f3"),a=e.n(i);a.a},a7f3:function(t,s,e){}}]);
//# sourceMappingURL=chunk-3312f9e2.4a2f051e.js.map